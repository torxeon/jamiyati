<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جمعية المركز الإسلامي الخيرية - دليل المراكز</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Google Fonts: Cairo for Arabic text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        /* Applying the Cairo font as the default */
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #FAF6EF; /* Light Beige from design guide */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #8D2426; /* Primary Red */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6c1c1e;
        }
        /* Style for the filter dropdown arrow */
        select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: left 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-left: 2.5rem;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Data Source ---
        const directoryData = {
          "اسم_الجمعية": "جمعية المركز الإسلامي الخيرية",
          "القطاعات": [
            {
              "اسم_القطاع": "قطاع الرعاية الاجتماعية والبرامج التنموية",
              "الوصف": "يعمل القطاع على تقديم الرعاية الاجتماعية وتنفيذ البرامج التنموية من خلال 65 مركزاً منتشرة في محافظات المملكة.",
              "مراكز_الخدمات_المجتمعية": [
                { "المحافظة": "محافظة العاصمة", "المراكز": [ { "الرقم": 1, "اسم_المركز": "مركز النظيف للخدمات المجتمعية", "هاتف_خلوي": ["06/4740522", "079/5309705"], "العنوان_الجغرافي": "عمان - جبل النظيف مقابل مدرسة أم تينة", "رقم_الحساب_البنك_الإسلامي": "فرع الوحدات (15329)", "رقم_المحفظة": "IC 20" } ,{"الرقم": 2, "اسم_المركز": "مركز جبل الجوفة للخدمات المجتمعية", "هاتف_خلوي": ["06/4765313"], "العنوان_الجغرافي": "عمان - الجوفة - حي نبيلكا خلف مدارس الوكالة","رقم_المحفظة": "IC 32"}, { "الرقم": 3, "اسم_المركز": "مركز مخيم الوحدات للخدمات المجتمعية", "هاتف_خلوي": ["06/4731058", "079/5593879"], "العنوان_الجغرافي": "عمان - مخيم الوحدات في شعبة ط4 - مسجد المدارس", "رقم_المحفظة": "IC 23" }, { "الرقم": 4, "اسم_المركز": "مركز جبل النصر للخدمات المجتمعية", "هاتف_خلوي": ["06/4907408"], "العنوان_الجغرافي": "عمان - جبل النصر - ش. السيدة زينب - مجمع الحاج صالح الكتنوت", "رقم_المحفظة": "IC 34" }, { "الرقم": 5, "اسم_المركز": "مركز مخيم المحطة للخدمات المجتمعية", "هاتف_خلوي": ["06/4902315"], "العنوان_الجغرافي": "عمان - مخيم المحطة - خلف سوق الخضار", "رقم_المحفظة": "IC 37" }, { "الرقم": 6, "اسم_المركز": "مركز البيادر للخدمات المجتمعية", "هاتف_خلوي": ["06/5862012"], "العنوان_الجغرافي": "عمان - بيادر وادي السير ش. الرئيسي خلف مطعم القدس", "رقم_المحفظة": "IC 14" }, { "الرقم": 7, "اسم_المركز": "مركز القويسمة للخدمات المجتمعية", "هاتف_خلوي": ["06/4756586"], "العنوان_الجغرافي": "عمان - القويسمة - مقابل مدينة الملك عبدالله الثاني الرياضية", "رقم_المحفظة": "IC 25" }, { "الرقم": 8, "اسم_المركز": "مركز جبل الحسين للخدمات المجتمعية", "هاتف_خلوي": ["06/4643115"], "العنوان_الجغرافي": "عمان - جبل الحسين - مقابل حديقة الهويمل - بجانب نادي المستقبل", "رقم_المحفظة": "IC 09" }, { "الرقم": 9, "اسم_المركز": "مركز جبل الزهور للخدمات المجتمعية", "هاتف_خلوي": ["06/4388402"], "العنوان_الجغرافي": "عمان - جبل الزهور - خلف الحديقة المرورية - مبنى مسجد الرضوان", "رقم_المحفظة": "IC 21" }, { "الرقم": 10, "اسم_المركز": "مركز صويلح للخدمات المجتمعية", "هاتف_خلوي": ["06/5335144"], "العنوان_الجغرافي": "عمان - صويلح الحي الشرقي دخلة محمص الريحان ش. علي فاخر", "رقم_المحفظة": "IC 11" }, { "الرقم": 11, "اسم_المركز": "مركز ماركا الشمالية للخدمات المجتمعية", "هاتف_خلوي": ["06/4889030"], "العنوان_الجغرافي": "عمان - ماركا الشمالية - حي المزارع بالقرب من مسجد مخيمر أبو جاموس", "رقم_المحفظة": "IC 38" }, { "الرقم": 12, "اسم_المركز": "مركز الجبيهة للخدمات المجتمعية", "هاتف_خلوي": ["06/4889030"], "العنوان_الجغرافي": "عمان - الجبيهة - الطيبة - ش. الجمعية - مقابل مركز العطاء الطبي", "رقم_المحفظة": "IC 28" }, { "الرقم": 13, "اسم_المركز": "مركز جبل القصور للخدمات المجتمعية", "هاتف_خلوي": ["078/8711548"], "العنوان_الجغرافي": "عمان - جبل القصور - حي الدغافلي لمسجد المجاهدين - مخابز بور سعيد", "رقم_المحفظة": "IC 61" }, { "الرقم": 14, "اسم_المركز": "مركز المقابلين للخدمات المجتمعية", "هاتف_خلوي": ["06/4206482"], "العنوان_الجغرافي": "عمان - المقابلين - الدوار الرابع مقابل محلات الصالح", "رقم_المحفظة": "IC 53" }, { "الرقم": 15, "اسم_المركز": "مركز سحاب للخدمات المجتمعية", "هاتف_خلوي": ["06/4024232"], "العنوان_الجغرافي": "عمان - سحاب - النهر الخالد بالقرب من مدرسة حفصة بنت عمر", "رقم_المحفظة": "IC 41" }, { "الرقم": 16, "اسم_المركز": "مركز الحراج للخدمات المجتمعية", "هاتف_خلوي": ["06/5733888"], "العنوان_الجغرافي": "عمان - مرج الحمام - دوار الدلة خلف بنك الاسكان", "رقم_المحفظة": "IC 94" }, { "الرقم": 17, "اسم_المركز": "مركز حي نزال للخدمات المجتمعية", "هاتف_خلوي": ["06/4396972"], "العنوان_الجغرافي": "عمان - حي نزال - الجبل الأخضر ش. حليمة السعدية", "رقم_المحفظة": "IC 15" }, { "الرقم": 18, "اسم_المركز": "مركز طبربور للخدمات المجتمعية", "هاتف_خلوي": ["079/6980002"], "العنوان_الجغرافي": "عمان - طبربور بجانب مستشفى الأقصى", "رقم_المحفظة": "IC 31" }] },
                { "المحافظة": "محافظة الزرقاء", "المراكز": [ { "الرقم": 19, "اسم_المركز": "مركز الزرقاء للخدمات المجتمعية", "هاتف_خلوي": ["05/3985600"], "العنوان_الجغرافي": "الزرقاء - الوسط التجاري - مثلث الوفا - ش. الفاروق","رقم_المحفظة": "IC 19"}, { "الرقم": 20, "اسم_المركز": "مركز مخيم الزرقاء للخدمات المجتمعية", "هاتف_خلوي": ["05/3996334"], "العنوان_الجغرافي": "الزرقاء - مخيم الزرقاء - أول صف رقيم", "رقم_المحفظة": "IC 47" }, { "الرقم": 21, "اسم_المركز": "مركز الرصيفة للخدمات المجتمعية", "هاتف_خلوي": ["05/3743360"], "العنوان_الجغرافي": "الرصيفة - الجبل الشمالي - مثلث البركة - بجانب محطة البركة", "رقم_المحفظة": "C 42" }, { "الرقم": 22, "اسم_المركز": "مركز مخيم حطين للخدمات المجتمعية", "هاتف_خلوي": ["05/3611440"], "العنوان_الجغرافي": "الرصيفة - مخيم حطين - خلف مدرسة طه حسين الثانوية", "رقم_المحفظة": "C 40" }, { "الرقم": 23, "اسم_المركز": "مركز الظليل للخدمات المجتمعية", "هاتف_خلوي": ["05/3824469"], "العنوان_الجغرافي": "الزرقاء - الظليل - مثلث الحلابات مقابل البنك الإسلامي", "رقم_المحفظة": "IC 49" }, { "الرقم": 24, "اسم_المركز": "مركز مخيم السخنة للخدمات المجتمعية", "هاتف_خلوي": ["05/3844098"], "العنوان_الجغرافي": "الزرقاء - السخنة - الحي الشرقي خلف مسجد عمر بن الخطاب", "رقم_المحفظة": "IC 28" }, { "الرقم": 25, "اسم_المركز": "مركز الهاشمية للخدمات المجتمعية", "هاتف_خلوي": ["05/3811992"], "العنوان_الجغرافي": "الزرقاء - الهاشمية - اسكان الهاشمية قرب مسجد ابن تيمية", "رقم_المحفظة": "IC 26" }, { "الرقم": 26, "اسم_المركز": "مركز عوجان للخدمات المجتمعية", "هاتف_خلوي": ["0782003347"], "العنوان_الجغرافي": "الزرقاء - عوجان - مسجد الحموري", "رقم_المحفظة": "IC 44" }] },
                { "المحافظة": "محافظة البلقاء", "المراكز": [ { "الرقم": 27, "اسم_المركز": "مركز مخيم البقعة للخدمات المجتمعية", "هاتف_خلوي": ["06/4725049"], "العنوان_الجغرافي": "عمان - محافظة البلقاء - البقعة مخيم البقعة - مجمع البر والإحسان", "رقم_المحفظة": "IC 55" }, { "الرقم": 28, "اسم_المركز": "مركز الشونة الجنوبية للخدمات المجتمعية", "هاتف_خلوي": ["05/3581196"], "العنوان_الجغرافي": "لواء الشونة الجنوبية - منطقة الكرامة - قرب مسجد الشهداء", "رقم_المحفظة": "IC 58" }, { "الرقم": 29, "اسم_المركز": "مركز السلط للخدمات المجتمعية", "هاتف_خلوي": ["078/2444279"], "العنوان_الجغرافي": "السلط - دبابنه - خلف مديرية العمل مقابل مدارس الفرسان", "رقم_المحفظة": "IC 59" }, { "الرقم": 30, "اسم_المركز": "مركز عين الباشا للخدمات المجتمعية", "هاتف_خلوي": ["06/5370765"], "العنوان_الجغرافي": "عين الباشا - صافوط قرب بلدية صافوط", "رقم_المحفظة": "IC 54" }, { "الرقم": 31, "اسم_المركز": "مركز دير علا للخدمات المجتمعية", "هاتف_خلوي": ["05/3574500"], "العنوان_الجغرافي": "دير علا - معدي مقابل مبنى البلدية", "رقم_المحفظة": "IC 87" }] },
                { "المحافظة": "محافظة مادبا", "المراكز": [ { "الرقم": 32, "اسم_المركز": "مركز مادبا للخدمات المجتمعية", "هاتف_خلوي": ["078/9991784"], "العنوان_الجغرافي": "مادبا - مخيم مادبا", "رقم_المحفظة": "IC 29" }, { "الرقم": 33, "اسم_المركز": "مركز مخيم الطالبية للخدمات المجتمعية", "هاتف_خلوي": ["06/4460230"], "العنوان_الجغرافي": "مادبا - مخيم الطالبية - الجيزة ش. المطار - قرب مطعم مكسيم", "رقم_المحفظة": "IC 33" }, { "الرقم": 34, "اسم_المركز": "مركز ذيبان للخدمات المجتمعية", "هاتف_خلوي": ["05/3206947"], "العنوان_الجغرافي": "ذيبان - مثلث القاسمية", "رقم_المحفظة": "IC 90" }] },
                { "المحافظة": "محافظة اربد", "المراكز": [ { "الرقم": 35, "اسم_المركز": "مركز اربد للخدمات المجتمعية", "هاتف_خلوي": ["02/7279589"], "العنوان_الجغرافي": "اربد - ش. بلاط الشهداء - مدخل المخيم الغربي", "رقم_المحفظة": "IC 18" }, { "الرقم": 36, "اسم_المركز": "مركز لواء الوسطية للخدمات المجتمعية", "هاتف_خلوي": ["02/7305919"], "العنوان_الجغرافي": "اربد - لواء الوسطية - بلدة قميم", "رقم_المحفظة": "IC 71" }, { "الرقم": 37, "اسم_المركز": "مركز لواء الكورة للخدمات المجتمعية", "هاتف_خلوي": ["02/6522157"], "العنوان_الجغرافي": "اربد - لواء الكورة - دير ابي سعيد خلف الاتصالات", "رقم_المحفظة": "IC 68" }, { "الرقم": 38, "اسم_المركز": "مركز جديتا للخدمات المجتمعية", "هاتف_خلوي": ["077/0522773"], "العنوان_الجغرافي": "اربد - لواء الكورة - جديتا - وسط البلد", "رقم_المحفظة": "IC 30" }, { "الرقم": 39, "اسم_المركز": "مركز الرمثا للخدمات المجتمعية", "هاتف_خلوي": ["02/7384867"], "العنوان_الجغرافي": "الرمثا - مجمع الشيخ - المسجد العمري - قرب مجمع السيارات", "رقم_المحفظة": "IC 36" }, { "الرقم": 40, "اسم_المركز": "مركز الشونة الشمالية للخدمات المجتمعية", "هاتف_خلوي": ["02/6577390"], "العنوان_الجغرافي": "الشونة الشمالية - قرب مديرية لواء الأغوار الشمالية", "رقم_المحفظة": "IC 69" }, { "الرقم": 41, "اسم_المركز": "مركز مخيم الشهيد للخدمات المجتمعية", "هاتف_خلوي": ["02/7060738"], "العنوان_الجغرافي": "اربد - مخيم الشهيد عزمي المفتي مقابل مدرسة الإناث - وكالة الغوث", "رقم_المحفظة": "IC 72" }, { "الرقم": 42, "اسم_المركز": "مركز المزار الشمالي للخدمات المجتمعية", "هاتف_خلوي": ["02/7034493"], "العنوان_الجغرافي": "المزار الشمالي - ش. الدفاع المدني - حي الظهر - مقابل مركز الشباب", "رقم_المحفظة": "IC 85" }, { "الرقم": 43, "اسم_المركز": "مركز الصريح للخدمات المجتمعية", "هاتف_خلوي": ["079/9891378"], "العنوان_الجغرافي": "اربد - لواء بني عبيد - الصريح - قرب مسجد أبو بكر الصديق", "رقم_المحفظة": "IC 96" }, { "الرقم": 44, "اسم_المركز": "مركز النعيمة للخدمات المجتمعية", "هاتف_خلوي": ["02/7057417"], "العنوان_الجغرافي": "اربد - لواء بني عبيد - النعيمة - مقابل مدرسة حمد الفرحان", "رقم_المحفظة": "IC 74" }, { "الرقم": 45, "اسم_المركز": "مركز ايدون للخدمات المجتمعية", "هاتف_خلوي": ["02/7101655"], "العنوان_الجغرافي": "اربد - ايدون - شرق مخابز قاسيون", "رقم_المحفظة": "IC 10" }, { "الرقم": 46, "اسم_المركز": "مركز الشجرة للخدمات المجتمعية", "هاتف_خلوي": ["078/2338882"], "العنوان_الجغرافي": "الرمثا - الشجرة - الحي الشرقي خلف مسجد العواد بن مالك", "رقم_المحفظة": "IC 39" }] },
                { "المحافظة": "محافظة عجلون", "المراكز": [ { "الرقم": 47, "اسم_المركز": "مركز عجلون للخدمات المجتمعية", "هاتف_خلوي": ["02/6422110"], "العنوان_الجغرافي": "عجلون - عين جنا ش. مركز أمن المدينة", "رقم_المحفظة": "IC 67" }] },
                { "المحافظة": "محافظة المفرق", "المراكز": [ { "الرقم": 48, "اسم_المركز": "مركز المفرق للخدمات المجتمعية", "هاتف_خلوي": ["02/6233089"], "العنوان_الجغرافي": "المفرق - ش. الجيش - بجانب مبنى المحافظة", "رقم_المحفظة": "IC 22" }] },
                { "المحافظة": "محافظة جرش", "المراكز": [ { "الرقم": 49, "اسم_المركز": "مركز مخيم غزة للخدمات المجتمعية", "هاتف_خلوي": ["02/6338330"], "العنوان_الجغرافي": "جرش - مخيم غزة - بالقرب من مديرية زراعة جرش", "رقم_المحفظة": "IC 65" }, { "الرقم": 50, "اسم_المركز": "مركز مخيم سوف للخدمات المجتمعية", "هاتف_خلوي": ["02/6341393"], "العنوان_الجغرافي": "جرش - مخيم سوف - الشارع الرئيسي - خلف السوق", "رقم_المحفظة": "IC 64" }, { "الرقم": 51, "اسم_المركز": "مركز جرش للخدمات المجتمعية", "هاتف_خلوي": ["02/6341706"], "العنوان_الجغرافي": "جرش - ش. المفرق - بجانب قاعة بلدية جرش", "رقم_المحفظة": "IC 83" }, { "الرقم": 52, "اسم_المركز": "مركز المعراض للخدمات المجتمعية", "هاتف_خلوي": ["02/6337131"], "العنوان_الجغرافي": "جرش - ساكب - بجانب مركز صحي ساكب", "رقم_المحفظة": "IC 97" }] },
                { "المحافظة": "محافظة الطفيلة", "المراكز": [ { "الرقم": 53, "اسم_المركز": "مركز الطفيلة للخدمات المجتمعية", "هاتف_خلوي": ["03/2241968"], "العنوان_الجغرافي": "الطفيلة - وادي زيد - بالقرب من مدرسة الأمير الحسن الثانوية للبنين", "رقم_المحفظة": "IC 75" }, { "الرقم": 54, "اسم_المركز": "مركز لواء بصيرا للخدمات المجتمعية", "هاتف_خلوي": ["03/2267488"], "العنوان_الجغرافي": "الطفيلة - لواء بصيرا ريعا - بالقرب من شركة الكهرباء الفرع الجديد", "رقم_المحفظة": "IC 88" }] },
                { "المحافظة": "محافظة الكرك", "المراكز": [ { "الرقم": 55, "اسم_المركز": "مركز الكرك للخدمات المجتمعية", "هاتف_خلوي": ["03/2351838"], "العنوان_الجغرافي": "الكرك - قرب أصحاب الفاروق خلف مختبر مدلاب", "رقم_المحفظة": "IC 81" }, { "الرقم": 56, "اسم_المركز": "مركز القصر للخدمات المجتمعية", "هاتف_خلوي": ["03/2315041"], "العنوان_الجغرافي": "الكرك - لواء القصر - حي مدارس الفاروق الإسلامية", "رقم_المحفظة": "IC 73" }, { "الرقم": 57, "اسم_المركز": "مركز المزار الجنوبي للخدمات المجتمعية", "هاتف_خلوي": ["03/2370677"], "العنوان_الجغرافي": "الكرك - المزار الجنوبي - ش. الرئيسي بجانب قاعة أعمار المزار الجنوبي", "رقم_المحفظة": "IC 95" }, { "الرقم": 58, "اسم_المركز": "مركز غور الصافي وغور المزرعة والحديثة للخدمات المجتمعية", "هاتف_خلوي": ["0782003345"], "العنوان_الجغرافي": "غور الصافي - قرب المحكمة الشرعية. غور المزرعة - قرب مجمع الباصات خلف مخابز الوارملة", "رقم_المحفظة": "IC 60" }, { "الرقم": 59, "اسم_المركز": "مركز فقوع للخدمات المجتمعية", "هاتف_خلوي": ["078/8889563"], "العنوان_الجغرافي": "الكرك - لواء فقوع - خلف المتصرفية", "رقم_المحفظة": "IC 43" }] },
                { "المحافظة": "محافظة معان", "المراكز": [ { "الرقم": 60, "اسم_المركز": "مركز معان للخدمات المجتمعية", "هاتف_خلوي": ["03/2135531"], "العنوان_الجغرافي": "معان - ش. فلسطين - خلف مسجد سيد الشهداء", "رقم_المحفظة": "IC 77" }, { "الرقم": 61, "اسم_المركز": "مركز وادي موسى للخدمات المجتمعية", "هاتف_خلوي": ["03/2155035"], "العنوان_الجغرافي": "معان - وادي موسى - وسط البلد خلف المسجد الكبير", "رقم_المحفظة": "IC 91" }, { "الرقم": 62, "اسم_المركز": "مركز الشوبك للخدمات المجتمعية", "هاتف_خلوي": ["03/2165164"], "العنوان_الجغرافي": "معان - الشوبك - حي بلال - مقابل مدرسة الشوبك الثانوية", "رقم_المحفظة": "IC 62" }, { "الرقم": 63, "اسم_المركز": "مركز المريغة للخدمات المجتمعية", "هاتف_خلوي": ["03/2120180"], "العنوان_الجغرافي": "معان - المريغة - مقابل المؤسسة الاستهلاكية - بجانب قاعة البلدية", "رقم_المحفظة": "IC 92" }] },
                { "المحافظة": "محافظة العقبة", "المراكز": [ { "الرقم": 64, "اسم_المركز": "مركز العقبة للخدمات المجتمعية", "هاتف_خلوي": ["03/2035858"], "العنوان_الجغرافي": "العقبة - بجانب المستشفى الإسلامي العقبة", "رقم_المحفظة": "IC 79" }] }
              ]
            },
            {
              "اسم_القطاع": "قطاع صحي",
              "الوصف": "المؤسسات الطبية التابعة لجمعية المركز الإسلامي الخيرية.",
              "المؤسسات_الطبية": [
                { "الرقم": 1, "اسم_المؤسسة": "المستشفى الإسلامي - عمان", "المنطقة": "عمان العبدلي", "هاتف": ["06/5101010"], "الموقع_الإلكتروني": "www.islamic-hospital.org" },
                { "الرقم": 2, "اسم_المؤسسة": "المستشفى الإسلامي / العقبة", "المنطقة": "العقبة", "هاتف": ["03/2018444"], "البريد_الإلكتروني": "info.aq@islamic-hospital.org" },
                { "الرقم": 3, "اسم_المؤسسة": "مركز النظيف الطبي", "المنطقة": "عمان - جبل النظيف", "هاتف": ["06/4735953"], "الخدمات": ["عيادة طب عام (رجال وأطفال)", "عيادة طب عام (نساء وأطفال)"] },
                { "الرقم": 4, "اسم_المؤسسة": "مركز النور الطبي", "المنطقة": "عمان القويسمة", "هاتف": ["079/0461631"], "الخدمات": ["عيادة طب عام (نساء وأطفال)", "عيادة أسنان"] },
                { "الرقم": 5, "اسم_المؤسسة": "مركز أبو ذر الغفاري الطبي", "المنطقة": "عمان - جبل النصر", "هاتف": ["078/7749305"] },
                { "الرقم": 6, "اسم_المؤسسة": "مركز عبد الرحمن بن عوف الطبي", "المنطقة": "عمان ماركا الشمالية", "هاتف": ["06/4889030"] },
                { "الرقم": 7, "اسم_المؤسسة": "مركز الأنصار الطبي", "المنطقة": "عمان جبل الجوفة", "هاتف": ["06/4765313"] },
                { "الرقم": 8, "اسم_المؤسسة": "مركز الشفاء الطبي", "المنطقة": "عمان - صويلح", "هاتف": ["06/5335144"] },
                { "الرقم": 9, "اسم_المؤسسة": "مركز البقعة الطبي", "المنطقة": "مخيم البقعة", "هاتف": ["06/4722827"] },
                { "الرقم": 10, "اسم_المؤسسة": "مركز طبي مخيم الطالبية", "المنطقة": "مخيم الطالبية", "هاتف": ["06/4460230"] },
                { "الرقم": 11, "اسم_المؤسسة": "مركز رفيدة الطبي", "المنطقة": "البيادر", "هاتف": ["06/5862012"] }
              ]
            },
            {
              "اسم_القطاع": "قطاع تعليمي",
              "الوصف": "يشمل الكليات والمدارس ورياض الأطفال التابعة للجمعية.",
              "المؤسسات_التعليمية": [
                { "الاسم": "كلية المجتمع الإسلامي - للإناث", "المحافظة": "الزرقاء", "العنوان": "الزرقاء - ضاحية الثورة العربية الكبرى", "معلومات_الاتصال": { "هاتف": "05/3986914" } },
                { "الاسم": "مدارس دار الأرقم الإسلامية وعمان الدولية", "المحافظة": "عمان", "العنوان": "عمان - ضاحية الرشيد - حي الصحفيين", "معلومات_الاتصال": { "هاتف": "06/5153333" }, "المدارس_التابعة": [{ "المدرسة": "مدرسة الأرقم الثانوية للبنين", "العنوان": "ضاحية الرشيد", "رقم_الهاتف": "06/5153333" }, { "المدرسة": "مدرسة الأرقم الثانوية للبنات", "العنوان": "ضاحية الرشيد", "رقم_الهاتف": "06/5153333" }] },
                { "الاسم": "مدرسة وروضة أكناف بيت المقدس", "المحافظة": "عمان", "العنوان": "عمان - طريق المطار - ضاحية الأمير علي", "معلومات_الاتصال": { "هاتف": "06/4122125" } },
                { "الاسم": "أكاديمية رياض ومدارس حكمة الفاروق / الزرقاء", "المحافظة": "الزرقاء", "العنوان": "الزرقاء - حي الضباط - بجانب مسجد الرؤيا", "معلومات_الاتصال": { "هاتف": ["05/3933209"] } },
                { "الاسم": "مدارس ورياض أطفال جمعية المركز الاسلامي الخيرية إربد - حكما", "المحافظة": "إربد", "العنوان": "اربد - شارع شفيق أرشيدات (أيدون سابقاً)", "معلومات_الاتصال": { "هاتف": "02/7272150" } },
                { "الاسم": "مدارس ورياض أصحاب الفاروق الإسلامية / الكرك", "المحافظة": "الكرك", "العنوان": "الإدارة العامة - محافظة الكرك - القصر", "معلومات_الاتصال": { "هاتف": ["03/2315117"] } },
                { "الاسم": "أكاديمية البوصلة التربوية", "المحافظة": "جرش", "العنوان": "جرش - مخيم سوف - طريق ثغرة عصفور", "معلومات_الاتصال": { "هاتف": ["02/6341393"] } },
                { "الاسم": "مدارس ورياض جبل حراء", "المحافظة": "الرصيفة", "العنوان": "الرصيفة - جريبا - ضاحية الملك عبدالله الثاني", "معلومات_الاتصال": { "هاتف": "05/3746888" } },
                { "الاسم": "مدرسة جمعية المركز الإسلامي الخيرية الرمثا", "المحافظة": "الرمثا", "العنوان": "الرمثa - الحي الشرقي - بجانب كراج الشاحنات", "معلومات_الاتصال": { "هاتف": "02/7380811" } },
                { "الاسم": "مدرسة وروضة براعم ربوة الإسلام / الكرامة", "المحافظة": "لواء الشونة الجنوبية", "العنوان": "لواء الشونة الجنوبية - الكرامة - ضاحية مسعود", "معلومات_الاتصال": { "هاتف": ["05/3595400"] } },
                { "الاسم": "مدرسة وروضة عبين الاسلامية الحديثة عجلون", "المحافظة": "عجلون", "العنوان": "محافظة عجلون - مثلث عبين", "معلومات_الاتصال": { "هاتف": "02/6441998" } },
                { "الاسم": "مدرسة فروة بن عمرو الجذامي / معان", "المحافظة": "معان", "العنوان": "محافظة معان - خلف جمعية التربية الخاصة", "معلومات_الاتصال": { "هاتف": ["03/2131520"] } },
                { "الاسم": "مدارس ورياض الصاعدين الإسلامية المفرق", "المحافظة": "المفرق", "العنوان": "المفرق - شارع الجيش - بجانب مبنى المحافظة", "معلومات_الاتصال": { "هاتف": ["02/6230490"] } }
              ]
            }
          ]
        };

        // --- Helper Function to flatten and normalize the data ---
        const normalizeGovernorate = (gov) => {
            if (!gov) return null;
            
            // A map to standardize governorate names based on Jordan's 12 official governorates
            const govMap = {
                'العاصمة': 'عمان',
                'عمان': 'عمان',
                'الزرقاء': 'الزرقاء',
                'الرصيفة': 'الزرقاء',
                'اربد': 'إربد',
                'إربد': 'إربد',
                'البلقاء': 'البلقاء',
                'الشونة الجنوبية': 'البلقاء',
                'السلط': 'البلقاء',
                'مادبا': 'مادبا',
                'عجلون': 'عجلون',
                'المفرق': 'المفرق',
                'جرش': 'جرش',
                'الطفيلة': 'الطفيلة',
                'الكرك': 'الكرك',
                'معان': 'معان',
                'العقبة': 'العقبة'
            };

            // Find the standard name by checking if the input string contains a key from our map
            for (const key in govMap) {
                if (gov.includes(key)) {
                    return govMap[key];
                }
            }
            
            // Fallback if no match is found
            return gov.replace('محافظة ', '').replace('لواء ', '');
        };

        const flattenData = (data) => {
            const allListings = [];
            
            data.القطاعات.forEach(sector => {
                // 1. Process Social Care Centers
                if (sector.مراكز_الخدمات_المجتمعية) {
                    sector.مراكز_الخدمات_المجتمعية.forEach(gov => {
                        gov.المراكز.forEach(center => {
                            allListings.push({
                                id: `s-${center.الرقم || center.اسم_المركز}`,
                                name: center.اسم_المركز,
                                address: center.العنوان_الجغرافي,
                                phones: Array.isArray(center.هاتف_خلوي) ? center.هاتف_خلوي : [center.هاتف_خلوي],
                                wallet: center.رقم_المحفظة,
                                sector: sector.اسم_القطاع,
                                governorate: normalizeGovernorate(gov.المحافظة)
                            });
                        });
                    });
                }

                // 2. Process Medical Institutions
                if (sector.المؤسسات_الطبية) {
                    sector.المؤسسات_الطبية.forEach(inst => {
                        allListings.push({
                            id: `h-${inst.الرقم || inst.اسم_المؤسسة}`,
                            name: inst.اسم_المؤسسة,
                            address: inst.المنطقة,
                            phones: Array.isArray(inst.هاتف) ? inst.هاتف : [inst.هاتف],
                            sector: sector.اسم_القطاع,
                            governorate: normalizeGovernorate(inst.المنطقة)
                        });
                    });
                }

                // 3. Process Educational Institutions and their sub-schools
                if (sector.المؤسسات_التعليمية) {
                    sector.المؤسسات_التعليمية.forEach(inst => {
                        // Add the main institution
                        allListings.push({
                            id: `e-${inst.الاسم}`,
                            name: inst.الاسم,
                            address: inst.العنوان,
                            phones: inst.معلومات_الاتصال.هاتف ? (Array.isArray(inst.معلومات_الاتصال.هاتف) ? inst.معلومات_الاتصال.هاتف : [inst.معلومات_الاتصال.هاتف]) : [],
                            sector: sector.اسم_القطاع,
                            governorate: normalizeGovernorate(inst.المحافظة)
                        });

                        // Add sub-schools/branches if they exist
                        const subSchools = inst.المدارس_التابعة || inst.المدارس_والرياض_التابعة || inst.المؤسسات_التعليمية_التابعة;
                        if (subSchools) {
                            subSchools.forEach(sub => {
                                allListings.push({
                                    id: `e-sub-${sub.ت || sub.المدرسة}`,
                                    name: sub.المدرسة,
                                    address: sub.العنوان,
                                    phones: sub.رقم_الهاتف ? [sub.رقم_الهاتف] : [],
                                    sector: sector.اسم_القطاع,
                                    governorate: normalizeGovernorate(inst.المحافظة) // Inherit governorate from parent
                                });
                            });
                        }
                    });
                }
            });
            return allListings;
        };
        
        // --- Main App Component ---
        function App() {
            const [listings, setListings] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedSector, setSelectedSector] = useState('الكل');
            const [selectedGov, setSelectedGov] = useState('الكل');

            // On component mount, process and set the data
            useEffect(() => {
                const flatData = flattenData(directoryData);
                setListings(flatData);
            }, []);

            // Memoize derived data to avoid recalculations on every render
            const sectors = useMemo(() => ['الكل', ...new Set(listings.map(item => item.sector))], [listings]);
            const governorates = useMemo(() => ['الكل', ...Array.from(new Set(listings.map(item => item.governorate).filter(g => g))).sort()], [listings]);
            
            // Filter logic
            const filteredListings = useMemo(() => {
                return listings.filter(item => {
                    const searchTermLower = searchTerm.toLowerCase();
                    const matchesName = item.name && item.name.toLowerCase().includes(searchTermLower);
                    const matchesWallet = item.wallet && item.wallet.toLowerCase().includes(searchTermLower);
                    const matchesSearch = matchesName || matchesWallet;

                    const matchesSector = selectedSector === 'الكل' || item.sector === selectedSector;
                    const matchesGov = selectedGov === 'الكل' || item.governorate === selectedGov;
                    return matchesSearch && matchesSector && matchesGov;
                });
            }, [listings, searchTerm, selectedSector, selectedGov]);

            return (
                <div className="container mx-auto p-4 md:p-8">
                    <Header />
                    <Filters 
                        sectors={sectors}
                        governorates={governorates}
                        onSearchChange={setSearchTerm}
                        onSectorChange={setSelectedSector}
                        onGovChange={setSelectedGov}
                        resultCount={filteredListings.length}
                    />
                    <DirectoryGrid listings={filteredListings} />
                </div>
            );
        }

        // --- Header Component ---
        const Header = () => (
            <header className="text-center mb-8">
                <h1 className="text-4xl md:text-5xl font-extrabold text-[#8D2426] mb-2">{directoryData.اسم_الجمعية}</h1>
                <p className="text-xl text-gray-600">دليل المراكز والفروع</p>
            </header>
        );

        // --- Filters Component ---
        const Filters = ({ sectors, governorates, onSearchChange, onSectorChange, onGovChange, resultCount }) => {
            return (
                <div className="bg-white p-4 rounded-lg shadow-md mb-8 sticky top-4 z-10">
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        {/* Search Input */}
                        <div className="relative">
                            <input
                                type="text"
                                placeholder="ابحث بالاسم أو رقم المحفظة..."
                                onChange={(e) => onSearchChange(e.target.value)}
                                className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8D2426] focus:border-transparent transition"
                            />
                             <svg className="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                        </div>
                        
                        {/* Sector Filter */}
                        <select onChange={(e) => onSectorChange(e.target.value)} className="w-full p-3 border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-[#8D2426] focus:border-transparent transition">
                            {sectors.map(sector => <option key={sector} value={sector}>{sector}</option>)}
                        </select>
                        
                        {/* Governorate Filter */}
                        <select onChange={(e) => onGovChange(e.target.value)} className="w-full p-3 border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-[#8D2426] focus:border-transparent transition">
                            {governorates.map(gov => <option key={gov} value={gov}>{gov}</option>)}
                        </select>
                    </div>
                    <p className="text-center mt-4 text-gray-500">تم العثور على {resultCount} نتيجة</p>
                </div>
            );
        };

        // --- Directory Grid Component ---
        const DirectoryGrid = ({ listings }) => {
            if (listings.length === 0) {
                return (
                    <div className="text-center py-16">
                        <p className="text-2xl text-gray-500">لا توجد نتائج مطابقة لبحثك.</p>
                        <p className="text-gray-400 mt-2">يرجى محاولة تغيير فلاتر البحث.</p>
                    </div>
                );
            }

            return (
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {listings.map(item => <DirectoryCard key={item.id} item={item} />)}
                </div>
            );
        };

        // --- Directory Card Component ---
        const DirectoryCard = ({ item }) => {
            const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.address)}`;
            
            return (
                <div className="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 flex flex-col">
                    <div className="p-6 flex-grow">
                        <p className="text-sm text-[#F37A20] font-bold">{item.sector}</p>
                        <h3 className="text-2xl font-bold text-[#8D2426] mt-1 mb-3">{item.name}</h3>
                        
                        {item.address && (
                            <a href={mapUrl} target="_blank" rel="noopener noreferrer" className="flex items-start gap-3 text-gray-700 mb-4 hover:text-[#005DAA]">
                                <svg className="w-6 h-6 flex-shrink-0 mt-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                <span>{item.address}</span>
                            </a>
                        )}

                        {item.phones && item.phones.length > 0 && (
                             <div className="flex items-start gap-3 text-gray-700">
                                <svg className="w-6 h-6 flex-shrink-0 mt-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
                                <div className="flex flex-col">
                                    {item.phones.filter(p => p).map(phone => (
                                        <a key={phone} href={`tel:${phone.replace(/\//g, '')}`} className="hover:text-[#005DAA]">{phone}</a>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                     {item.wallet && (
                        <div className="bg-gray-50 p-4 border-t border-gray-200">
                            <p className="text-sm text-gray-500 text-center">
                                <span className="font-bold">رقم المحفظة:</span> {item.wallet}
                            </p>
                        </div>
                    )}
                </div>
            );
        };

        // --- Render the App ---
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
"
